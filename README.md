# Документация проекта автоматического тестирования интернет-магазина "Читай-город"

## Описание проекта

Ссылка на результаты ручного тестирования: [ссылка](https://cehbqa.yonote.ru/doc/testirovanie-internet-magazina-knig-chitaj-gorod-LB9LffBOsr#h-opisanie-proekta)

Проект содержит автоматические тесты для проверки функциональности интернет-магазина книг **"Читай-город"**. Тесты разделены на два типа:

1. **UI-тесты** (`test_ui.py`) — проверка пользовательского интерфейса:
   - Поиск книги через каталог
   - Поиск по частичному названию
   - Поиск через выпадающий список подсказок
   - Добавление книги в корзину
   - Удаление книги из корзины

2. **API-тесты** (`test_api.py`) — проверка backend-функциональности:
   - Поиск товара по названию на кириллице
   - Поиск товара с цифрами в запросе
   - Поиск без токена авторизации
   - Поиск с некорректным HTTP-методом
   - Удаление товара из корзины

---

## Используемые технологии и синтаксис

Проект использует следующие технологии и библиотеки:

| Библиотека | Версия | Назначение |
|------------|--------|------------|
| **pytest** | 9.0.2 | Фреймворк для написания и запуска тестов |
| **selenium** | 4.40.0 | Автоматизация взаимодействия с веб-браузером |
| **requests** | 2.32.5 | Выполнение HTTP-запросов к API |
| **allure-pytest** | 2.15.3 | Интеграция Allure с pytest для генерации отчетов |
| **allure-python-commons** | 2.15.3 | Общие компоненты для работы с Allure |

### Форматирование кода

- Код форматируется в соответствии с **PEP 8**.
- Используются **docstrings** для документирования методов и функций.
- Все шаги тестов размечаются с помощью `with allure.step` для улучшения читаемости отчетов.
- Для API-тестов создан отдельный класс `Api` с типизированными методами.

---

## Инструкция по запуску тестов для формирования отчета Allure

1. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```

2.  Запуск всех тестов (UI + API):
   ```pytest --alluredir=./allure-results
   ```

   Эта команда запустит все тесты и сохранит результаты в директорию `./allure-results`.

3. Запуск только UI-тестов:
   ```pytest test/test_ui.py --alluredir=./allure-results
   ```

4. Запуск только API-тестов:
   ```pytest test/test_api.py --alluredir=./allure-results
   ```

5. Запуск конкретного теста:
   ```pytest test/test_ui.py::test_add_book_to_cart --alluredir=./allure-results
   ```


---

## Инструкция по просмотру сформированного отчета Allure

1. После завершения тестов, чтобы просмотреть отчет, выполните команду:
   ```allure serve ./allure-results
   ```

   Эта команда запустит локальный сервер и откроет отчет в браузере.